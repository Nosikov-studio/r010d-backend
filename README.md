# r010d-backend
Этот учебный проект ("d") упрощение предыдущего проекта("c"), но с сохранением изначальной конструкции.
Здесь изучаются разные приемы построения роутеров и т.д., поэтому код сильно избыточен. 
По ходу изучения возникали проблемки. Главная (проблема №1)- противоречие между результатами (в папке trur) изначально полученными плейбуком ansible (r011d-ansible) и последующей автомотизацией github actions (он изменял папку на сервере var/www/trur/ так, что сервер не запускался, так как, например, там была папка с зависимостями). Другая проблема (проблема №2), если при начальной установке (r011d-ansible) и при последующих изменениях бэкенда (с помощью github actions d-bmywf.yml) происходит нормальный запуск сервера Express.js с помощью mp2, то при простой перезагрузки ОС (Ubunu) сервера - запуска сервера Express.js не происходит, т.е. нужно включить pm2 в загрузку ОС. Доработать (проблему №2)!!! Ручное включение бэкенда. Нужно перейти в папку с проектом /var/www/trur/ и там запустить команду: pm2 start app.js --name backend --watch
*******************************************
Автоматизация исправлена в r011d-backend и здесь в плейбуке d-bmywf.yml для github actions. Здесь в плейбуке предполается, что запущен процесс "backend" при начальной установке (r011d-backend), и здесь (d-bmywf.yml) идет только перезапуск с помощью pm2 при пуше (on: push) изменений в github.